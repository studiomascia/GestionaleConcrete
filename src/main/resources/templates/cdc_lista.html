<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="main-template">
<head>
    <link href="/resources/assets/css/bootstrap-treeview.min.css" rel="stylesheet" />
    <script src="/resources/assets/js/bootstrap-treeview.min.js"></script>

    <title>Centri di costo</title>
</head>
<body>
    <div layout:fragment="content">
      Elenco centri di costo:
        <table class="table table-striped table-bordered">
            <thead>
                <tr><th>Id</th> <th>Descrizione</th><th>Parent</th><th>Children</th><th>Stato</th></tr>
            </thead>
            <tbody>
                <tr th:each="item : ${lista}">
                    <td th:text="${item.id}" />
                    <td th:text="${item.text}" />
                    <td th:text="${item.parent}" />
                    <td th:text="${item.nodes}" />
                    <td th:text="${item.attivo}" />
                </tr>
            </tbody>
        </table>
      
        <div id="tree"></div>
    
    <script>
//var mytree = 
//[{ text: "Parent 1", 
//    nodes: [{text: "Child 1",nodes: [ { text: "Grandchild 1" },{text: "Grandchild 2"}]},{text: "Child 2"}]},
// {text: "Parent 2"},
// {text: "Parent 3"},
// {text: "Parent 4"},
// {text: "Parent 5"}];

     $.ajax({
        url:"/CdcRestList",
        success: function(response){
            alert(response);
            $('#tree').treeview({
                color: "#428bca",
                data: response
            });
        }
    });
           
    </script>
        </div>
</body>
</html>