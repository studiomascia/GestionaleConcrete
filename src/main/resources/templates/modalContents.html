<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Template vuoto</title>
</head>
<body>
<div th:fragment="attachmentPaymentInvoice" class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Inserisci il documento da allegare:</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <form class="form-horizontal" th:action="@{'/Payment/' + ${pagamento.id} + '/ModalAttachment/' }"  method="POST" enctype="multipart/form-data">
            <div class="modal-body">
                <div class="form-group">
                    <label for="txtId" class="control-label">Id</label>
                    <input readonly="true" type="text" class="form-control" name="txtId" id="txtId" th:field="${pagamento.id}">
                        <input   type="hidden" name="IdFattura" id="IdFattura"  th:value="${IdFattura}">    
                </div>    
                <div class="form-group">
                    <label for="txtDescription" class="control-label">Descrizione</label>
                    <input  type="text" class="form-control" name="txtDescription" >
                </div> 

                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
                  </div>
                  <div class="custom-file">
                    <input id="multipleFileUploadInput"        type="file"  name="files"   multiple="true" required="true"  aria-describedby="inputGroupFileAddon01">


                  </div>
                </div>
                <div class="modal-footer">
                    <button type="button"  class="btn btn-secondary" data-dismiss="modal" >Chiudi</button>
                    <button type="submit" class="btn btn-primary">Salva</button>
                </div>
            </div>
        </form>
    </div>
</div>
    
 
 

    
<!-- formModalRegisterInvoice -->
<div th:fragment="registerInvoice" class="modal-dialog modal-dialog-centered" role="document">
    <form class="form-horizontal" th:action="@{'/InvoiceIn/Register/' + ${fattura.id}}" th:object="${fattura}"  method="POST" >
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Inserisci i dati di registrazione della fattura:</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="txtId" class="control-label">Id</label>
                    <input readonly="true" type="text" class="form-control" name="txtId" id="txtId" th:field="*{id}">
                </div>    
                <div class="form-group">
                    <label for="txtNumero" class="control-label">Numero Protocollo IVA</label>
                    <input  type="text" class="form-control" name="txtNumero" id="txtNumero" th:field="*{numeroRegistrazione}">
                </div> 
                <div class="form-group">
                    <label for="txtDataRegistrazione" class="control-label">Data Registrazione</label>
                    <input  type="date" class="form-control" name="txtDataRegistrazione" id="txtDataRegistrazione"  th:field="*{dataRegistrazione}" >
                </div> 
            </div>
            <div class="modal-footer">
                <button type="button"  class="btn btn-secondary" data-dismiss="modal" >Chiudi</button>
                <button type="submit" class="btn btn-primary">Salva</button>
            </div>
        </div>
    </form>
</div>

<div th:fragment="paymentInvoice" class="modal-dialog modal-dialog-centered" role="document">
    <script>
        function Controlla(){
            alert('Controllo....'+ $('#txtNumero').val()   );
            if (/^\\d+\\.\\d{2}$/.test($('#amount').val()))             return fal
            
            se;
        }
    </script>
    
    <form class="form-horizontal" th:action="@{'/Invoice/'+ ${fattura.id}+ '/ModalPayment/' }"   method="POST" >
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Inserisci i dati del pagamento:</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">

                <div class="form-group">
                    <label for="txtId" class="control-label">Id</label>
                    <input readonly="true" type="text" class="form-control" name="txtId" id="txtId" th:field="${pagamento.id}">
                </div>    
                <div class="form-group">
                    <label for="txtNumero" class="control-label">Importo Versato</label>
                    <input  type="text" pattern="^\d+(\.)\d{2}$"  class="form-control" name="txtNumero" id="txtNumero" th:field="${pagamento.importoVersamento}">
                </div> 
                <div class="form-group">
                    <label for="txtDataVersamento" class="control-label">Data Versamento</label>
                    <input   type="date" class="form-control" name="txtDataVersamento" id="txtDataRegistrazione" th:field="${pagamento.dataVersamento}">
                </div>
                <div class="form-group">
                    <label for="txtNote" class="control-label">Note</label>
                    <input  type="text" class="form-control" name="txtNote" id="txtNumero" th:field="${pagamento.note}">
                </div> 
                  <div class="form-group">
                    <label for="cbSaldata" class="control-label">Saldata</label>
                    <input  type="checkbox" class="form-control" name="cbSaldata" id="cbSaldata" th:field="${pagamento.saldata}">
                </div> 
            </div>
            <div class="modal-footer">
                <button type="button"  class="btn btn-secondary" data-dismiss="modal" >Chiudi</button>
                <button type="submit" class="btn btn-primary">Salva</button>
            </div>
        </div>
    </form>
</div>


<div th:fragment="attachmentCheckInvoice" class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title">Inserisci il documento da allegare:</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        <form class="form-horizontal" th:action="@{'/Check/' + ${controllo.id} + '/ModalAttachment/' }"  method="POST" enctype="multipart/form-data">
            <div class="modal-body">
                <div class="form-group">
                    <label for="txtId" class="control-label">Id</label>
                    <input readonly="true" type="text" class="form-control" name="txtId" id="txtId" th:field="${controllo.id}">
                        <input   type="hidden" name="IdFattura" id="IdFattura"  th:value="${IdFattura}">    
                </div>    
                <div class="form-group">
                    <label for="txtDescription" class="control-label">Descrizione</label>
                    <input  type="text" class="form-control" name="txtDescription" >
                </div> 

                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
                  </div>
                  <div class="custom-file">
                    <input id="multipleFileUploadInput"        type="file"  name="files"   multiple="true" required="true"  aria-describedby="inputGroupFileAddon01">


                  </div>
                </div>
                <div class="modal-footer">
                    <button type="button"  class="btn btn-secondary" data-dismiss="modal" >Chiudi</button>
                    <button type="submit" class="btn btn-primary">Salva</button>
                </div>
            </div>
        </form>
    </div>
</div>

<div th:fragment="checkInvoice" class="modal-dialog modal-dialog-centered" role="document">
    <form class="form-horizontal" th:action="@{'/InvoiceIn/'+ ${fattura.id}+ '/ModalCheck/' }"  method="POST" >
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Inserisci i dati del controllo</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            </div>
            <div class="modal-body">

                <div class="form-group">
                    <label hidden="true" for="txtId" class="control-label">Id</label>
                    <input hidden="true" readonly="true" type="text" class="form-control" name="txtId" id="txtId" th:field="${controllo.id}">
                </div>    
                <div class="form-group">
                    <label for="ddlCentroDiCosto" class="control-label">Seleziona il Centro Di Costo</label>                   
                    <select class="form-control" name="ddlCentroDiCosto"  id="ddlCentroDiCosto" >
                        <option th:each="cdc : ${listaCdc}" th:value="${cdc.id}" th:text="${cdc.text}"></option>
                    </select>
                    
                    <!--<label for="txtNumero" class="control-label">Centro di costo</label>-->
                    <!--<input  type="text" class="form-control" name="txtCentroDiCosto" id="txtCentroDiCosto" th:field="${controllo.centroDiCosto}">-->
                </div> 
<!--                <div class="form-group">
                    <label for="txtDataVersamento" class="control-label">Data Controllo</label>
                    <input   type="date" class="form-control" name="txtDataControllo" id="txtDataControllo" th:field="${controllo.dataControllo}">
                </div>-->
                <div class="form-group">
                    <label for="txtNote" class="control-label">Note</label>
                    <input  type="text" class="form-control" name="txtNote" id="txtNumero" th:field="${controllo.note}">
                </div> 
                  <div class="form-group">
                    <label for="cbSaldata" class="control-label">Controllata</label>
                    <input  type="checkbox" class="form-control" name="cbControllata" id="cbControllata" th:field="${controllo.controllata}">
                </div> 
            </div>
            <div class="modal-footer">
                <button type="button"  class="btn btn-secondary" data-dismiss="modal" >Chiudi</button>
                <button type="submit" class="btn btn-primary">Salva</button>
            </div>
        </div>
    </form>
</div>





</body>    
</html>